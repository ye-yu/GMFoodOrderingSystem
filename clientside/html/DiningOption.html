<!DOCTYPE html>
<html lang="en">
<head>
<title>Bootstrap Example</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"><!-- bootstrap 3.3.7 -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><!-- jquery 3.3.1 -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script><!-- bootstrap 3.3.7 -->
<style>
/**********************************
Responsive navbar-brand image CSS
- Remove navbar-brand padding for firefox bug workaround
- add 100% height and width auto ... similar to how bootstrap img-responsive class works
***********************************/

.navbar-brand {
	padding: 0px;
}
.navbar-brand>img {
	height: 100%;
	padding: 15px;
	width: auto;
}
/* EXAMPLE 3

line height is 20px by default so add 30px top and bottom to equal the new .navbar-brand 80px height  */

.example3 .navbar-brand {
	height: 80px;/* same as image height */
}
.example3 .nav >li >a {
	padding-top: 30px;
	padding-bottom: 30px;
}
.example3 .navbar-toggle {
	padding: 10px;
	margin: 25px 15px 25px 0;
}

/* center restaurant name when not in mobile view */
@media only screen and (min-width : 768px) {
.navbar-text {
	position: absolute;
	width: 100%;
	left: 0;
	text-align: center;
	margin-top: 30px;
}
}
/* set height and width carousel image */	
.carousel-inner > .item > img {
	width: 100%;
	height: 360px;
}
/** SPINNER CREATION **/

.loader {
	position: relative;
	text-align: center;
	margin: 15px auto 35px auto;
	z-index: 9999;
	display: block;
	width: 80px;
	height: 80px;
	border: 10px solid rgba(0, 0, 0, 0.3);
	border-radius: 50%;
	border-top-color: #000;
	animation: spin 1s ease-in-out infinite;
	-webkit-animation: spin 1s ease-in-out infinite;
}
 @keyframes spin {
 to {
 -webkit-transform: rotate(360deg);
}
}
 @-webkit-keyframes spin {
 to {
 -webkit-transform: rotate(360deg);
}
}
/** MODAL STYLING **/

.loader-txt {
 p {
 font-size: 13px;
 color: #666;
}
}
</style>
<script>
function sendRequest(method,param,url,toSet){
	var ourRequest = new XMLHttpRequest();
	ourRequest.open(method,url);
	ourRequest.onload = function()
	{
		if(ourRequest.readyState== 4 && ourRequest.status == 200)
			{
				toSet(ourRequest.responseText);
				console.log(ourRequest.responseText);
			}
	}
	if (method == 'POST')
		ourRequest.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
	ourRequest.send(param);
}
$(document).ready(function(){
//localStorage.setItem("set_table", "3");//set number of table to 3        
    // Hide the Modal
    $("#submitBtn").click(function(e){
		e.preventDefault();
		var numofcust = document.getElementById('cust_num_dine_in');
		if (/^\d+$/.test(numofcust.value))
		{
			$("#Modal_dine_in").modal("hide");//hide modal
			$("#loadMe").modal({
			  backdrop: "static", //remove ability to close modal with click
			  keyboard: false, //remove option to close with keyboard
			  show: true //Display loader!
			});
			numofcust.placeholder = '';
			sendRequest(
				'POST',
				'no_of_cust=' + numofcust.value,
				'http://localhost:11111/dashboard/workspace/SEF1819/GMFoodOrderingSystem/serverside/php/table.php?action=RESERVE',
				function(a)
				{
					$("#loadMe").modal("hide");//hide modal
					if(a == '')
					{
						$("#no_table_Modal").modal("show");//show modal
					}
					else
					{
						var b = document.getElementById('user_table');
						b.innerHTML = a;
						$("#have_table_Modal").modal("show");//show modal
					}
				});
		}
		else
		{
			numofcust.value = '';
			numofcust.placeholder = 'Try Again';
		}
    });
});
</script>	
</head>
<body>
<div class="example3">
  <nav class="navbar navbar-default">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar1"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>
        <a class="navbar-brand" href="http://disputebills.com"><img src="http://placehold.it/432x80&text=Logo" alt="logo"> </a>
        <h3 class="navbar-text">ABC Restaurant</h3>
      </div>
      <div id="navbar1" class="navbar-collapse collapse">
        <!-- <ul class="nav navbar-nav navbar-right"> -->
          <!-- <li class="active"><a href="1.html">Home</a></li> -->
          <!-- <li><a href="#">Contact Us</a></li> -->
          <!-- <li><a href="#">Locate Us</a></li> -->
        <!-- </ul> -->
      </div>
      <!--/.nav-collapse --> 
    </div>
    <!--/.container-fluid --> 
  </nav>
</div>
<div class="btn-group btn-group-justified" data-toggle="buttons"> <a href="#" class="btn btn-default btn-block btn-lg" role="button" data-toggle="modal" data-target="#Modal_dine_in">Dine in</a> <a href="#" class="btn btn-default btn-block btn-lg" role="button">Take Away</a> </div>
<!-- Modal get customer -->
<div id="Modal_dine_in" class="modal fade" role="dialog">
  <div class="modal-dialog"> 
    
    <!-- Modal content-->
	
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 align="center" class="modal-title">Dine in</h4>
      </div>
      <div class="modal-body">
        <div align="center">
          <form class="form-inline">
            <h3>Please enter number of customer:</h3>
            <div class="form-group">
				<!-- set max number to 4. 1 table have 4 seating -->
              <input type="number" class="form-control input-lg" id="cust_num_dine_in" name="cust_num_dine_in">
            </div>
            <button id="submitBtn" class="btn btn-default">Submit</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal loading animation -->
<div class="modal fade" id="loadMe" tabindex="-1" role="dialog" aria-labelledby="loadMeLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content">
      <div class="modal-body text-center">
        <div class="loader"></div>
        <div clas="loader-txt">
          <p>Reserving</p>
        </div>
      </div>
    </div>
  </div>
</div>
	
 <!-- Modal have table -->
  <div class="modal fade" id="have_table_Modal" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h1 align="center" class="modal-title">Table available</h1>
        </div>
        <div class="modal-body">
          <h2 align="center">Your table number is <span id="user_table"></span></h2>
          <h3 align="center">Please proceed to the table.</h3>
			<br><br>
			<p align="center">Thank you for dining in this restaurant.</p>
        </div>
        
      </div>
      
    </div>
  </div>	
	
	<!-- Modal no table -->
  <div class="modal fade" id="no_table_Modal" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h1 align="center" class="modal-title">No table available</h1>
        </div>
        <div class="modal-body">
          <h2 align="center">We regret to inform you that there are currently no table available.</h2><br><br>
			<p align="center">Please proceed to perform take away operation</p>
        </div>
        
      </div>
      
    </div>
  </div>	

<div id="myCarousel" class="carousel slide" data-ride="carousel"> 
  <!-- Indicators -->
  <ol class="carousel-indicators">
    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
    <li data-target="#myCarousel" data-slide-to="1"></li>
    <li data-target="#myCarousel" data-slide-to="2"></li>
  </ol>
  
  <!-- Wrapper for slides -->
  <div class="carousel-inner">
    <div class="item active"> <img src="http://placehold.it/1200x360&text=image1" alt="Los Angeles" style="width:100%;"> </div>
    <div class="item"> <img src="http://placehold.it/1200x360&text=image2" alt="Chicago" style="width:100%;"> </div>
    <div class="item"> <img src="http://placehold.it/1200x360&text=image3" alt="New york" style="width:100%;"> </div>
  </div>
  
  <!-- Left and right controls --> 
  <a class="left carousel-control" href="#myCarousel" data-slide="prev"> <span class="glyphicon glyphicon-chevron-left"></span> <span class="sr-only">Previous</span> </a> <a class="right carousel-control" href="#myCarousel" data-slide="next"> <span class="glyphicon glyphicon-chevron-right"></span> <span class="sr-only">Next</span> </a> </div>
  <div class="Our Foods">
  </div>
</body>
</html>
